<link rel="import" href="../polymer/polymer.html">

<!--
A flip clock, timer and countdown made with Polymer

##### Example

    <flip-clock></flip-clock>

@element flip-clock
@blurb A flip clock, timer and countdown made with Polymer
@status alpha
@homepage http://Granze.github.io/flip-clock
-->
<polymer-element name="flip-clock" attributes="displayMode toggleButton resetButton showSeconds startFrom">

  <template>

    <link rel="stylesheet" href="flip-clock.css" />

    <content>
      <div id="clock">
        <span id="hours0">{{hours[0]}}</span><span id="hours1">{{hours[1]}}</span>
        <b>:</b>
        <span id="minutes0">{{minutes[0]}}</span><span id="minutes1">{{minutes[1]}}</span>
        <template if="{{showSeconds}}">
          <b>:</b>
          <span id="seconds0">{{seconds[0]}}</span><span id="seconds1">{{seconds[1]}}</span>
        </template>
      </div>
      <template if="{{toggleButton && displayMode !== 'clock'}}">
        <button class="toggle btn">Start/Stop</button>
      </template>
      <template if="{{resetButton && displayMode !== 'clock'}}">
        <button class="reset btn">Reset</button>
      </template>
    </content>

  </template>

  <script>

    Polymer('flip-clock', {
      /**
       * The `displayMode` attribute determine which kind of clock to display.
       *
       * @attribute displayMode
       * @type string
       * @default clock
       * @options clock, countdown, timer
       */
      displayMode: 'clock',

      /**
       * Display a start/stop button in countdown and timer mode.
       *
       * @attribute toggleButton
       * @type bool
       */
      toggleButton: false,

      /**
       * Display a reset button in countdown and timer mode.
       *
       * @property toggleButton
       * @type bool
       */
      resetButton: false,

      /**
       * Display a reset button in countdown and timer mode.
       *
       * @property toggleButton
       * @type bool
       */
      showSeconds: true,

      startFrom: null,

      /**
       * The `createClock` method start a clock that display the current time.
       *
       * @method startClock
       * @return {Object} Returns undefined.
       */
      createClock: function() {
        var now = new Date();
        this.hours = now.getHours().toString().split('');
        this.minutes = now.getMinutes();
        this.seconds = now.getSeconds();
        this.hours = ((this.hours < 10 ? "0" : "") + this.hours).toString().split('');
        this.minutes = ((this.minutes < 10 ? "0" : "") + this.minutes).toString().split('');
        this.seconds = ((this.seconds < 10 ? "0" : "") + this.seconds).toString().split('');
        this.async(this.createClock, null, 1000);
      },

      /**
       * The `createTimer` method start a clock that display the current time.
       *
       * @method startTimer
       * @return {Object} Returns undefined.
       */
      createTimer: function() {
      },

      /**
       * The `createCountdown` method start a clock that display the current time.
       *
       * @method startCountdown
       * @return {Object} Returns undefined.
       */
      createCountdown: function() {
      },
      /**
       * The `startCount` method does no work at this time.
       *
       * @method startCount
       * @return {Object} Returns undefined.
       */
      startCount: function() {

      },

      /**
       * The `stopCount` method does no work at this time.
       *
       * @method stopCount
       * @return {Object} Returns undefined.
       */
      stopCount: function() {

      },

      /**
       * The `stopCount` method does no work at this time.
       *
       * @method stopCount
       * @return {Object} Returns undefined.
       */
      resetCount: function() {

      },
      created: function() {
        this.hours = [0,0];
        this.minutes = [0,0];
        this.seconds = [0,0];
      },
      ready: function() {
        switch(this.displayMode) {
          case 'timer':
            this.createTimer();
            break;
          case 'countdown':
            this.createCountdown();
            break;
          default:
            this.createClock();
        }
      }
    });

  </script>

</polymer-element>
